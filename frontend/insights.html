<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FairShare Insights</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<div class="insights-container">

  <h1 class="dash-title">Insights</h1>

  <div class="insight-top">

    <div class="trend-card">
      <h3>Monthly Trends</h3>
      <p>Room Spending (Last 6 months)</p>
      <canvas id="trendChart"></canvas>
      <p class="trend-note">Spending increased 18% compared to last month</p>
    </div>

    <div class="payer-card">
      <h3>Payer Analysis</h3>
      <p>Who paid the most?</p>
      <canvas id="payerChart"></canvas>
      <button onclick="goFairness()">View Fairness Report</button>
    </div>

  </div>

  <div class="expense-log">
    <h3>Expense Log</h3>
    <div class="log-item">Rent — You — ₹200</div>
    <div class="log-item">Food — Aditi — ₹120</div>
    <div class="log-item">Supplies — Riddhi — ₹65</div>
    <div class="log-item">Entertainment — You — ₹35</div>
  </div>

</div>
  <script>
const trendCtx = document.getElementById('trendChart');

new Chart(trendCtx, {
  type: 'line',
  data: {
    labels: ['Nov', 'Dec', 'Jan', 'Feb', 'Mar', 'Apr'],
    datasets: [{
      label: 'Room Spending',
      data: [4000, 3500, 2500, 3800, 4200, 5000],
      borderColor: '#6c5ce7',
      backgroundColor: 'rgba(108,92,231,0.2)',
      tension: 0.4,
      fill: true
    }]
  },
  options: {
    plugins: { legend: { display: false }},
    scales: {
      y: { ticks: { color: 'white' }},
      x: { ticks: { color: 'white' }}
    }
  }
});

const payerCtx = document.getElementById('payerChart');

new Chart(payerCtx, {
  type: 'doughnut',
  data: {
    labels: ['You', 'Aditi', 'Riddhi'],
    datasets: [{
      data: [41, 51, 8],
      backgroundColor: ['#6c5ce7', '#00d2ff', '#ff8c66']
    }]
  },
  options: {
    plugins: { legend: { labels: { color: 'white' }}}
  }
});
</script>


<script>
function goFairness(){
  window.location.href = "fairness.html";
}
</script>

</body>
</html>
